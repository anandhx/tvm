<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discover Trivandrum | Your Guide to Kerala's Capital</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #8b5cf6;
            --accent: #ec4899;
            --success: #10b981;
            --warning: #f59e0b;
            --dark: #1e293b;
            --dark-light: #334155;
            --light: #f8fafc;
            --light-gray: #e2e8f0;
            --white: #ffffff;
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.05);
            --shadow-md: 0 4px 6px rgba(0,0,0,0.07);
            --shadow-lg: 0 10px 25px rgba(0,0,0,0.1);
            --shadow-xl: 0 20px 40px rgba(0,0,0,0.15);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --border-radius: 16px;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--light);
            color: var(--dark);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Loading Screen */
        .loading-screen {
            position: fixed;
            inset: 0;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.6s ease, visibility 0.6s ease;
        }

        .loading-screen.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .loader {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255, 255, 255, 0.2);
            border-top-color: var(--white);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            color: var(--white);
            font-size: 1rem;
            font-weight: 500;
            margin-top: 20px;
            letter-spacing: 0.5px;
        }

        /* Header */
        header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--light-gray);
            z-index: 1000;
            transition: var(--transition);
        }

        header.scrolled {
            box-shadow: var(--shadow-md);
        }

        .header-container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--dark);
            font-family: 'Playfair Display', serif;
        }

        .logo i {
            color: var(--primary);
            font-size: 1.8rem;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 2rem;
            align-items: center;
        }

        nav a {
            color: var(--dark-light);
            text-decoration: none;
            font-weight: 500;
            font-size: 0.95rem;
            transition: var(--transition);
            position: relative;
        }

        nav a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary);
            transition: width 0.3s ease;
        }

        nav a:hover {
            color: var(--primary);
        }

        nav a:hover::after {
            width: 100%;
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--dark);
            cursor: pointer;
        }

        /* Hero Section */
        .hero {
            margin-top: 80px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: var(--white);
            padding: 6rem 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            inset: 0;
            background: url('https://images.unsplash.com/photo-1564507004663-b6dfb3e2ede5?ixlib=rb-4.0.3') center/cover;
            opacity: 0.1;
        }

        .hero-content {
            position: relative;
            max-width: 800px;
            margin: 0 auto;
            animation: fadeInUp 0.8s ease;
        }

        .hero h1 {
            font-size: 3.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
            font-family: 'Playfair Display', serif;
            line-height: 1.2;
        }

        .hero-subtitle {
            font-size: 1.25rem;
            opacity: 0.95;
            margin-bottom: 2.5rem;
            font-weight: 400;
        }

        .cta-button {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: var(--white);
            color: var(--primary);
            padding: 1rem 2rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            box-shadow: var(--shadow-lg);
            transition: var(--transition);
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-xl);
        }

        /* Main Container */
        .container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 4rem 2rem;
        }

        /* Section Title */
        .section-title {
            font-size: 2.5rem;
            font-weight: 800;
            text-align: center;
            margin-bottom: 3rem;
            color: var(--dark);
            font-family: 'Playfair Display', serif;
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -12px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 4px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            border-radius: 2px;
        }

        /* Category Grid */
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-bottom: 4rem;
        }

        .category-card {
            background: var(--white);
            border-radius: var(--border-radius);
            padding: 2rem;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--light-gray);
            transition: var(--transition);
            opacity: 0;
            transform: translateY(20px);
            animation: slideUp 0.6s ease forwards;
        }

        .category-card:hover {
            box-shadow: var(--shadow-lg);
            transform: translateY(-5px);
        }

        .category-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--light-gray);
        }

        .category-title {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--dark);
        }

        .category-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 1.3rem;
        }

        .place-count-badge {
            background: var(--light);
            color: var(--primary);
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .places-list {
            max-height: 400px;
            overflow: hidden;
            transition: max-height 0.4s ease;
            position: relative;
        }

        .places-list.collapsed {
            max-height: 280px;
        }

        .places-list.collapsed::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 80px;
            background: linear-gradient(to bottom, transparent, var(--white));
            pointer-events: none;
        }

        .place-item {
            padding: 12px 16px;
            margin: 8px 0;
            background: var(--light);
            border-radius: 10px;
            border-left: 3px solid transparent;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: var(--transition);
            cursor: pointer;
        }

        .place-item:hover {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: var(--white);
            border-left-color: var(--accent);
            transform: translateX(8px);
        }

        .place-item i {
            color: var(--primary);
            font-size: 0.9rem;
            transition: var(--transition);
        }

        .place-item:hover i {
            color: var(--white);
        }

        .toggle-btn {
            width: 100%;
            padding: 12px;
            margin-top: 1rem;
            background: var(--light);
            border: 2px solid var(--light-gray);
            border-radius: 10px;
            color: var(--primary);
            font-weight: 600;
            font-size: 0.95rem;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .toggle-btn:hover {
            background: var(--primary);
            color: var(--white);
            border-color: var(--primary);
        }

        .toggle-btn i {
            transition: transform 0.3s ease;
        }

        .toggle-btn.expanded i {
            transform: rotate(180deg);
        }

        .toggle-btn .hide-text {
            display: none;
        }

        /* Community Section */
        .community-section {
            background: var(--white);
            border-radius: var(--border-radius);
            padding: 3rem;
            box-shadow: var(--shadow-md);
            margin: 4rem 0;
            border: 1px solid var(--light-gray);
        }

        .community-header {
            text-align: center;
            margin-bottom: 2.5rem;
        }

        .community-header h2 {
            font-size: 2rem;
            font-weight: 800;
            color: var(--dark);
            margin-bottom: 0.5rem;
            font-family: 'Playfair Display', serif;
        }

        .community-header p {
            color: var(--dark-light);
            font-size: 1.1rem;
        }

        .community-item {
            padding: 1rem 1.25rem;
            margin: 12px 0;
            background: var(--light);
            border-radius: 12px;
            display: flex;
            align-items: center;
            gap: 12px;
            flex-wrap: wrap;
            transition: var(--transition);
            border-left: 3px solid transparent;
        }

        .community-item:hover {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.1));
            border-left-color: var(--secondary);
            transform: translateX(5px);
        }

        .community-item i {
            color: var(--warning);
            font-size: 1.1rem;
        }

        .community-item strong {
            color: var(--dark);
            font-weight: 600;
        }

        .category-tag {
            background: rgba(99, 102, 241, 0.15);
            color: var(--primary);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .contributor-badge {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: var(--white);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
            margin-left: auto;
        }

        /* Developer Section */
        .developer-section {
            background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
            border-radius: var(--border-radius);
            padding: 4rem 2rem;
            text-align: center;
            margin: 4rem 0;
        }

        .developer-section h3 {
            font-size: 2rem;
            font-weight: 800;
            color: var(--dark);
            margin-bottom: 1rem;
            font-family: 'Playfair Display', serif;
        }

        .developer-section > p {
            color: var(--dark-light);
            font-size: 1.1rem;
            margin-bottom: 2rem;
        }

        .developer-card {
            display: inline-flex;
            align-items: center;
            gap: 2rem;
            background: var(--white);
            padding: 2rem 3rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-md);
            transition: var(--transition);
        }

        .developer-card:hover {
            box-shadow: var(--shadow-xl);
            transform: translateY(-5px);
        }

        .developer-avatar {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 2.5rem;
            font-weight: 800;
            box-shadow: var(--shadow-md);
        }

        .developer-info {
            text-align: left;
        }

        .developer-info h4 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 0.25rem;
        }

        .developer-info p {
            color: var(--dark-light);
            margin-bottom: 1rem;
        }

        .social-links {
            display: flex;
            gap: 12px;
        }

        .social-links a {
            width: 40px;
            height: 40px;
            background: var(--light);
            border: 2px solid var(--light-gray);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            text-decoration: none;
            transition: var(--transition);
        }

        .social-links a:hover {
            background: var(--primary);
            color: var(--white);
            border-color: var(--primary);
            transform: translateY(-3px);
        }

        /* Footer */
        footer {
            background: var(--dark);
            color: var(--white);
            padding: 4rem 2rem 2rem;
            margin-top: 6rem;
        }

        .footer-content {
            max-width: 1280px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
            margin-bottom: 3rem;
        }

        .footer-column h3 {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            color: var(--white);
        }

        .footer-column p {
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.8;
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column ul li {
            margin-bottom: 0.75rem;
        }

        .footer-column ul li a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .footer-column ul li a:hover {
            color: var(--white);
            padding-left: 5px;
        }

        .visit-counter {
            display: inline-block;
            background: rgba(255, 255, 255, 0.1);
            padding: 6px 14px;
            border-radius: 20px;
            font-weight: 600;
            margin-top: 1rem;
        }

        .copyright {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.6);
        }

        .copyright p {
            margin: 0.5rem 0;
        }

        /* Scroll to Top Button */
        .scroll-top-btn {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: var(--white);
            border: none;
            border-radius: 50%;
            box-shadow: var(--shadow-lg);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            z-index: 999;
        }

        .scroll-top-btn.show {
            opacity: 1;
            visibility: visible;
        }

        .scroll-top-btn:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-xl);
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header-container {
                padding: 1rem;
            }

            .mobile-menu-btn {
                display: block;
            }

            nav {
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: var(--white);
                border-top: 1px solid var(--light-gray);
                box-shadow: var(--shadow-lg);
                display: none;
            }

            nav.active {
                display: block;
            }

            nav ul {
                flex-direction: column;
                gap: 0;
                padding: 1rem;
            }

            nav ul li {
                width: 100%;
            }

            nav a {
                display: block;
                padding: 1rem;
                border-bottom: 1px solid var(--light-gray);
            }

            .hero {
                padding: 4rem 1.5rem;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .hero-subtitle {
                font-size: 1.1rem;
            }

            .container {
                padding: 3rem 1rem;
            }

            .section-title {
                font-size: 2rem;
            }

            .categories-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .developer-card {
                flex-direction: column;
                text-align: center;
                padding: 2rem;
            }

            .developer-info {
                text-align: center;
            }

            .social-links {
                justify-content: center;
            }

            .footer-content {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
        }

        @media (max-width: 480px) {
            .hero h1 {
                font-size: 2rem;
            }

            .cta-button {
                padding: 0.875rem 1.5rem;
                font-size: 1rem;
            }

            .category-card,
            .community-section,
            .developer-section {
                padding: 1.5rem;
            }

            .scroll-top-btn {
                bottom: 1rem;
                right: 1rem;
                width: 45px;
                height: 45px;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loader"></div>
        <div class="loading-text">Discovering Trivandrum...</div>
    </div>

    <!-- Header -->
    <header id="header">
        <div class="header-container">
            <div class="logo">
                <i class="fas fa-palm-tree"></i>
                <span>Discover Trivandrum</span>
            </div>
            <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Toggle menu">
                <i class="fas fa-bars"></i>
            </button>
            <nav id="mainNav">
                <ul>
                    <li><a href="#home">Home</a></li>
                    <li><a href="#categories">Explore</a></li>
                    <li><a href="#community">Community</a></li>
                    <li><a href="#developer">About</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-content">
            <h1>ðŸŒ´ Discover Trivandrum</h1>
            <p class="hero-subtitle">Your community-powered guide to the best places in Thiruvananthapuram. Explore hidden gems, popular destinations, and local favorites.</p>
            <a href="https://forms.gle/hNbku69a3nmCrVEj7" target="_blank" class="cta-button">
                <i class="fas fa-plus-circle"></i>
                <span>Add Your Favorite Place</span>
            </a>
        </div>
    </section>

    <!-- Main Content -->
    <main>
        <div class="container">
            <!-- Categories Section -->
            <h2 class="section-title" id="categories">Explore by Category</h2>
            <div class="categories-grid" id="categoriesContainer"></div>

            <!-- Community Section -->
            <section class="community-section" id="community">
                <div class="community-header">
                    <h2>ðŸŒŸ Community Contributions</h2>
                    <p>Places recommended by travelers like you</p>
                </div>
                <div id="communityContainer"></div>
            </section>

            <!-- Developer Section -->
            <section class="developer-section" id="developer">
                <h3>Meet the Developer</h3>
                <p>Built with passion for exploring and showcasing the beauty of Trivandrum</p>
                
                <div class="developer-card">
                    <div class="developer-avatar">A</div>
                    <div class="developer-info">
                        <h4>Anandhx</h4>
                        <p>Software Developer at Digital university Kerala</p>
                        <div class="social-links">
                            <a href="https://github.com/anandhx" target="_blank" aria-label="GitHub" title="GitHub">
                                <i class="fab fa-github"></i>
                            </a>
                            <a href="https://anandhx.github.io/" target="_blank" aria-label="Portfolio" title="Portfolio">
                                <i class="fas fa-globe"></i>
                            </a>
                            <a href="https://www.linkedin.com/in/anandhu-ashok/" target="_blank" aria-label="LinkedIn" title="LinkedIn">
                                <i class="fab fa-linkedin"></i>
                            </a>
                        </div>
                    </div>
                </div>
                
                <p style="margin-top: 2rem; color: var(--dark-light); font-size: 0.95rem;">
                    This website is open source. Contributions and suggestions are welcome!
                </p>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-column">
                <h3>Discover Trivandrum</h3>
                <p>Your ultimate guide to exploring Thiruvananthapuram. Find the best places to visit, eat, and experience in Kerala's capital city.</p>
                <div class="visit-counter">
                    <img src="https://hitwebcounter.com/counter/counter.php?page=21462881&style=0007&nbdigits=3&type=page&initCount=0" title="Visitor Counter" alt="Visitor Counter" border="0" />
                </div>
            </div>
            
            <div class="footer-column">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="#home"><i class="fas fa-chevron-right"></i> Home</a></li>
                    <li><a href="#categories"><i class="fas fa-chevron-right"></i> Explore Categories</a></li>
                    <li><a href="#community"><i class="fas fa-chevron-right"></i> Community</a></li>
                    <li><a href="#developer"><i class="fas fa-chevron-right"></i> About Developer</a></li>
                </ul>
            </div>
            
            <div class="footer-column">
                <h3>Contribute</h3>
                <ul>
                    <li><a href="https://forms.gle/hNbku69a3nmCrVEj7" target="_blank"><i class="fas fa-plus"></i> Add a Place</a></li>
                    <li><a href="https://github.com/anandhx" target="_blank"><i class="fab fa-github"></i> GitHub</a></li>
                </ul>
            </div>
            
            <div class="footer-column">
                <h3>Contact</h3>
                <ul>
                    <li><i class="fas fa-map-marker-alt"></i> anandhuashok6959@gmail.com</li>
                    <li><i class="fas fa-map-marker-alt"></i> Thiruvananthapuram, Kerala</li>
                
                </ul>
            </div>
        </div>
        
        <div class="copyright">
            <p>&copy; <span id="currentYear"></span> Discover Trivandrum. All rights reserved.</p>
            <p>Made with <i class="fas fa-heart" style="color: #ec4899;"></i> for Trivandrum</p>
        </div>
    </footer>

    <!-- Scroll to Top Button -->
    <button class="scroll-top-btn" id="scrollTopBtn" aria-label="Scroll to top">
        <i class="fas fa-chevron-up"></i>
    </button>

    <!-- PapaParse for CSV parsing -->
    <script src="https://unpkg.com/papaparse@5.3.2/papaparse.min.js"></script>

    <script>
        // ==========================================
        // DATA
        // ==========================================
        const PLACES_DATA = {
            "ONE DAY TRIP": [
                "Varkala Intl Beach", "Kappil", "Anjengo", "Kulamuttom Lake", "Kadinmkulam Lake",
                "Aakulam Lake", "Vellayani Lake", "Perumathura", "Veli", "Zoo", "Napier Museum",
                "Wax Museum", "Shangumugham Beach", "Neeramankara Walkway", "Kovalam Intl Beach",
                "Hawa Beach", "Pozhikkara Beach", "Samudra Beach Park", "Vizhinjam", "Poovar",
                "Aruvikkara Dam", "Peppara Dam", "Neyyar Dam", "Meenmutty Dam", "Kottur Ecotourism",
                "Podiyakala Peppara Vithura", "Amboori", "Bonacaud", "Ponmudi", "Punchakkari",
                "Palode Botanical Garden", "Sai Gramam", "Aruvikkara Eco Kattakada", "Mayam Neyyar",
                "Happy Land Water Park"
            ],
            "WATERFALLS": [
                "Meenmutty Falls Kilimanoor", "Thampurattipara Falls Kilimanoor", "Para Kuzhi Falls Kilimanoor",
                "Meenmoodu Venjaramoodu", "Erappil Falls Venjaramoodu", "Muthipara Falls Venjaramoodu",
                "Irinchayam Falls Vembayam", "Mankayam Falls Brimore", "Meenmutty Falls Kallar",
                "Thavakkal Falls Vithura", "Vazhvanthol Falls Kanithadam", "Bonacaud Falls",
                "Kalluvaramb Falls Peyad", "Aanakulam Falls Amboori", "Irappam Falls Amboori",
                "Madasseri Falls Vellarada", "Meenmutty Neyyar"
            ],
            "PALACE": [
                "Kilimanoor Palace", "Attingal Palace", "Nedumangad Palace", "Kuthiramalika Palace",
                "Kanakakunnu Palace", "Kowdiar Palace", "Padmanabhapuram Palace", "Kovalam Palace",
                "Varkala Palace"
            ],
            "HILL STATIONS": [
                "Thampuratti Hill Kilimanoor", "Kadalukaani Hill Thalikuzhi", "Vellanikkal Hill Venjaramoodu",
                "Vallikadu Hill Venjaramoodu", "Ayyampara Hill Venjaramoodu", "Shiva Hill Venjaramoodu",
                "Thampuran Hill Vembayam", "Madavoorpara Pothencode", "Aayiravalli Hill Nagaroor",
                "Thirichittoor Rock Nedumangad", "Chittipara Vithura", "Ponmudi Hill",
                "Varayadumotta Hill", "Bison Valley Ponmudi", "Sarkar Motta Ponmudi",
                "Sita Theertham Ponmudi", "Maruthwamala Ponmudi", "Agasthyarkoodam",
                "Kaalippara Neyyar", "Koonichi Hill Vellarada", "Plankudikavu Vellarada",
                "Kathirmudi Hill", "Sasthampara Hill", "Kadumbu Para", "Draviyappara",
                "Nellikkamala", "Njandupara Cave Amboori", "Kurisumala Amboori",
                "Kannithoonmoodu Amboori"
            ],
            "TEMPLE MOSQUE CHURCH": [
                "Padmanabhaswamy Temple", "Attukal", "Iscon Temple", "Beemapally", "Palayam Church",
                "Vettukadu Church", "Palayam Juma Masjid", "Eruthavoor Kerala Palani", "Karikkakom",
                "Sarkara Devi", "Kaduvayil Juma Masjid", "Azhimala Shiva Temple", "Chenkal",
                "St Joseph Shrine Vizhinjam", "Sivagiri Varkala", "Santhigiri Ashram"
            ]
        };

        const CATEGORY_ICONS = {
            "ONE DAY TRIP": "fa-sun",
            "WATERFALLS": "fa-water",
            "PALACE": "fa-crown",
            "HILL STATIONS": "fa-mountain",
            "TEMPLE MOSQUE CHURCH": "fa-place-of-worship"
        };

        const CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQl3LmncwycLdYjhiLqkOEtzRUeidgIAkYM2y9tOc9LrAwOxb9hlCN4nM9Y2FDkrZLmV1w2HY_B7Wac/pub?output=csv";

        // ==========================================
        // INITIALIZATION
        // ==========================================
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('currentYear').textContent = new Date().getFullYear();
            
            setTimeout(() => {
                document.getElementById('loadingScreen').classList.add('hidden');
                renderCategories();
                loadCommunityData();
                initializeUI();
            }, 1200);
        });

        function initializeUI() {
            setupMobileMenu();
            setupScrollEffects();
            setupSmoothScroll();
            initVisitorCounter();
        }

        // ==========================================
        // RENDER CATEGORIES
        // ==========================================
        function renderCategories() {
            const container = document.getElementById('categoriesContainer');
            container.innerHTML = '';
            
            Object.entries(PLACES_DATA).forEach(([category, places], index) => {
                const card = createCategoryCard(category, places, index);
                container.appendChild(card);
            });
        }

        function createCategoryCard(category, places, index) {
            const card = document.createElement('div');
            card.className = 'category-card';
            card.style.animationDelay = `${index * 0.1}s`;
            
            const shouldCollapse = places.length > 10;
            const icon = CATEGORY_ICONS[category] || 'fa-map-pin';
            
            card.innerHTML = `
                <div class="category-header">
                    <div class="category-title">
                        <div class="category-icon">
                            <i class="fas ${icon}"></i>
                        </div>
                        <span>${category}</span>
                    </div>
                    <span class="place-count-badge">${places.length} places</span>
                </div>
                <div class="places-list ${shouldCollapse ? 'collapsed' : ''}" data-category="${category}">
                    ${places.map(place => `
                        <div class="place-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>${place}</span>
                        </div>
                    `).join('')}
                </div>
                ${shouldCollapse ? `
                    <button class="toggle-btn" onclick="togglePlacesList('${category}')">
                        <span class="show-text">Show all ${places.length} places</span>
                        <span class="hide-text">Show less</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                ` : ''}
            `;
            
            return card;
        }

        window.togglePlacesList = function(category) {
            const list = document.querySelector(`.places-list[data-category="${category}"]`);
            const btn = list.nextElementSibling;
            const isCollapsed = list.classList.contains('collapsed');
            
            if (isCollapsed) {
                list.classList.remove('collapsed');
                list.style.maxHeight = list.scrollHeight + 'px';
                btn.classList.add('expanded');
                btn.querySelector('.show-text').style.display = 'none';
                btn.querySelector('.hide-text').style.display = 'inline';
            } else {
                list.classList.add('collapsed');
                list.style.maxHeight = '280px';
                btn.classList.remove('expanded');
                btn.querySelector('.show-text').style.display = 'inline';
                btn.querySelector('.hide-text').style.display = 'none';
            }
        };

        // ==========================================
        // COMMUNITY DATA
        // ==========================================
        function loadCommunityData() {
            Papa.parse(CSV_URL, {
                download: true,
                header: true,
                skipEmptyLines: true,
                complete: (results) => {
                    const places = results.data
                        .filter(row => row["Place Name"])
                        .map(row => ({
                            name: row["Place Name"],
                            category: row["Category"] || "Uncategorized",
                            contributor: row["Added By"] || "Anonymous"
                        }));
                    renderCommunityPlaces(places);
                },
                error: () => {
                    document.getElementById('communityContainer').innerHTML = 
                        '<p style="text-align:center; color:var(--dark-light); padding:2rem;">Unable to load community contributions at the moment.</p>';
                }
            });
        }

        function renderCommunityPlaces(places) {
            const container = document.getElementById('communityContainer');
            
            if (places.length === 0) {
                container.innerHTML = '<p style="text-align:center; color:var(--dark-light); padding:2rem;">No community submissions yet. Be the first to contribute!</p>';
                return;
            }
            
            container.innerHTML = places.map((place, index) => `
                <div class="community-item" style="opacity:0; animation: fadeInUp 0.5s ease ${index * 0.05}s forwards;">
                    <i class="fas fa-star"></i>
                    <strong>${place.name}</strong>
                    <span class="category-tag">${place.category}</span>
                    <span class="contributor-badge">By ${place.contributor}</span>
                </div>
            `).join('');
        }

        // ==========================================
        // MOBILE MENU
        // ==========================================
        function setupMobileMenu() {
            const btn = document.getElementById('mobileMenuBtn');
            const nav = document.getElementById('mainNav');
            
            btn.addEventListener('click', () => {
                const isActive = nav.classList.toggle('active');
                btn.innerHTML = `<i class="fas fa-${isActive ? 'times' : 'bars'}"></i>`;
            });
            
            document.querySelectorAll('#mainNav a').forEach(link => {
                link.addEventListener('click', () => {
                    nav.classList.remove('active');
                    btn.innerHTML = '<i class="fas fa-bars"></i>';
                });
            });
        }

        // ==========================================
        // SCROLL EFFECTS
        // ==========================================
        function setupScrollEffects() {
            const header = document.getElementById('header');
            const scrollBtn = document.getElementById('scrollTopBtn');
            
            window.addEventListener('scroll', () => {
                if (window.scrollY > 100) {
                    header.classList.add('scrolled');
                    scrollBtn.classList.add('show');
                } else {
                    header.classList.remove('scrolled');
                    scrollBtn.classList.remove('show');
                }
            });
            
            scrollBtn.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        }

        // ==========================================
        // SMOOTH SCROLL
        // ==========================================
        function setupSmoothScroll() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    const href = this.getAttribute('href');
                    if (href === '#') return;
                    
                    e.preventDefault();
                    const target = document.querySelector(href);
                    if (target) {
                        const offset = 80;
                        const targetPosition = target.offsetTop - offset;
                        window.scrollTo({ top: targetPosition, behavior: 'smooth' });
                    }
                });
            });
        }

        // ==========================================
        // VISITOR COUNTER
        // ==========================================
        function initVisitorCounter() {
            // Visitor counter is now handled by external hitwebcounter service
            // Image embedded in footer
        }
    </script>
</body>
</html>
